<nav id="navigation_primary" class="relative border-gray-200 shadow-sm dark:bg-gray-900">
  <div class="flex flex-wrap items-center justify-between p-4">
    <router-link to="/" class="flex items-center space-x-3 rtl:space-x-reverse">
      <img src="https://epitech.bj/wp-content/uploads/2020/03/EPI-LOGO-SIGNATURE-2018.png" class="h-8"
        alt="Epitech Logo" />
      <span class="hidden md:block self-center text-2xl font-semibold whitespace-nowrap dark:text-white">
        Time Manager
      </span>
    </router-link>

    <div id="navigation_burger" class=" flex items-center order-2 space-x-3 md:space-x-0 rtl:space-x-reverse relative">
      <button type="button"
        class="flex text-sm dark:bg-gray-800 rounded-full md:me-0 focus:ring-4 focus:ring-gray-300 dark:focus:ring-gray-600"
        :aria-expanded="isDropdownOpen ? 'true' : 'false'" @click="toggleDropdown">
        <span class="sr-only">Open user menu</span>
        <svg class="w-8 h-8 dark:text-white" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
          <path stroke="currentColor" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>

      <div v-show="isDropdownOpen" ref="dropdown"
        class="absolute top-6 right-0 z-50 mt-2 text-base list-none bg-white divide-y divide-gray-100 rounded-lg shadow dark:bg-gray-700 dark:divide-gray-600"
        @click="stopPropagation">
        <div class="px-4 py-3">
          <span class="block text-sm text-gray-900 dark:text-white">
            {{ user?.username || 'Guest' }}
          </span>
          <span class="block text-sm text-gray-500 truncate dark:text-gray-400">
            {{ user?.email || 'Not logged in' }}
          </span>
        </div>

        <ul class="py-2">
          <li class="">
            <router-link :to="`/users/${user?.id}/settings`"
              class="flex items-center justify-between block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white">

              Settings
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4">
                <path
                  d="M7.25 13.25V7.5h1.5v5.75a.75.75 0 0 1-1.5 0ZM8.75 2.75V5h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1 0-1.5h.75V2.75a.75.75 0 0 1 1.5 0ZM2.25 9.5a.75.75 0 0 0 0 1.5h3a.75.75 0 0 0 0-1.5H4.5V2.75a.75.75 0 0 0-1.5 0V9.5h-.75ZM10 10.25a.75.75 0 0 1 .75-.75h.75V2.75a.75.75 0 0 1 1.5 0V9.5h.75a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1-.75-.75ZM3 12v1.25a.75.75 0 0 0 1.5 0V12H3ZM11.5 13.25V12H13v1.25a.75.75 0 0 1-1.5 0Z" />
              </svg>


            </router-link>
          </li>

          <li>
            <router-link to="/login"
              class="flex items-center justify-between block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-red-500"
              @click.prevent="logout">
              Sign out

              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="size-4">
                <path fill-rule="evenodd"
                  d="M8 15A7 7 0 1 0 8 1a7 7 0 0 0 0 14Zm2.78-4.22a.75.75 0 0 1-1.06 0L8 9.06l-1.72 1.72a.75.75 0 1 1-1.06-1.06L6.94 8 5.22 6.28a.75.75 0 0 1 1.06-1.06L8 6.94l1.72-1.72a.75.75 0 1 1 1.06 1.06L9.06 8l1.72 1.72a.75.75 0 0 1 0 1.06Z"
                  clip-rule="evenodd" />
              </svg>

            </router-link>
          </li>
        </ul>
      </div>
    </div>
    <div id="navbar-user"
      class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 items-center justify-between">
      <ul
        class="flex font-medium p-0 border border-gray-100 rounded-lg space-x-8 rtl:space-x-reverse mt-0 border-0 bg-white dark:bg-gray-900 dark:border-gray-700">
        <li id="navigation_home">
          <router-link :to="`/users/${user?.id}`" class="block py-2 px-3 rounded" :class="{
                'text-white bg-blue-700 md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500':
                  isActive('home'),
                'text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700':
                  !isActive('home'),
              }" aria-current="page">
            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M3 9l9-7 9 7v10a2 2 0 01-2 2H5a2 2 0 01-2-2V9z" />
            </svg>
          </router-link>
        </li>
        <li id="navigation_time">
          <router-link to="/times" class="block py-2 px-3 rounded" :class="{
                'text-white bg-blue-700 md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500':
                  isActive('times'),
                'text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700':
                  !isActive('times'),
              }">
            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6h4" />
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M12 3a9 9 0 100 18 9 9 0 000-18z" />
            </svg>
          </router-link>
        </li>
        <li id="navigation_calendar">
          <router-link to="/calendar" class="block py-2 px-3 rounded" :class="{
                'text-white bg-blue-700 md:bg-transparent md:text-blue-700 md:p-0 md:dark:text-blue-500':
                  isActive('calendar'),
                'text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-blue-700 md:p-0 dark:text-white md:dark:hover:text-blue-500 dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent dark:border-gray-700':
                  !isActive('calendar'),
              }">
            <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
              stroke="currentColor">
              <rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke-width="2"></rect>
              <line x1="16" y1="2" x2="16" y2="6"></line>
              <line x1="8" y1="2" x2="8" y2="6"></line>
              <line x1="3" y1="10" x2="21" y2="10"></line>
            </svg>
          </router-link>
        </li>
      </ul>
    </div>
  </div>
</nav>
<BatSignal />
