import{d as h,r as d,u as w,a as x,c,b as t,w as k,e as l,f as g,g as i,t as B,h as V,i as m,o as y,_ as b}from"./index-CfL1cJoF.js";import{B as L,a as C}from"./BaseButton-Dppk4grf.js";const I=h({name:"LoginPage",components:{BaseInput:L,BaseButton:C},setup(){const o=d(""),e=d(""),a=d(null),u=w(),p=x();return{email:o,password:e,error:a,handleLogin:async()=>{a.value=null;const n={email:o.value,password:e.value};try{const r=await u.login(n);p.push(`/users/${r}`)}catch(r){a.value="Email ou mot de passe invalide ou échec de la connexion",console.error("Login failed:",r)}}}}}),S={class:"bg-gray-50 dark:bg-gray-900"},$={class:"flex flex-col items-center justify-center px-6 py-8 mx-auto md:h-screen lg:py-0"},N={class:"w-full bg-white rounded-lg shadow dark:border md:mt-0 sm:max-w-md xl:p-0 dark:bg-gray-800 dark:border-gray-700"},_={class:"p-6 space-y-4 md:space-y-6 sm:p-8"},z={class:"text-sm font-light text-gray-500 dark:text-gray-400"},q={key:0,class:"text-red-500 text-sm mt-2"};function E(o,e,a,u,p,f){const n=m("BaseInput"),r=m("BaseButton"),v=m("router-link");return y(),c("section",S,[t("div",$,[t("div",N,[t("div",_,[e[6]||(e[6]=t("h1",{class:"text-xl font-bold leading-tight tracking-tight text-gray-900 md:text-2xl dark:text-white"}," Connectez-vous à votre compte ",-1)),t("form",{class:"space-y-4 md:space-y-6",onSubmit:e[2]||(e[2]=k((...s)=>o.handleLogin&&o.handleLogin(...s),["prevent"]))},[l(n,{modelValue:o.email,"onUpdate:modelValue":e[0]||(e[0]=s=>o.email=s),type:"email",label:"Votre email",name:"email",id:"email",placeholder:"name@company.com",required:"",error:o.error},null,8,["modelValue","error"]),l(n,{modelValue:o.password,"onUpdate:modelValue":e[1]||(e[1]=s=>o.password=s),type:"password",label:"Votre mot de passe",name:"password",id:"password",placeholder:"••••••••",required:"",error:o.error},null,8,["modelValue","error"]),l(r,{type:"submit",variant:"primary",fullWidth:!0},{default:g(()=>e[3]||(e[3]=[i(" Se connecter ")])),_:1})],32),t("p",z,[e[5]||(e[5]=i(" Vous n'avez pas encore de compte ? ")),l(v,{to:"/register",class:"font-medium text-gray-600 hover:underline dark:text-gray-500"},{default:g(()=>e[4]||(e[4]=[i(" Inscrivez-vous ")])),_:1})]),o.error?(y(),c("div",q,B(o.error),1)):V("",!0)])])])])}const j=b(I,[["render",E]]);export{j as default};
